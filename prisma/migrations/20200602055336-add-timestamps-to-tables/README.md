# Migration `20200602055336-add-timestamps-to-tables`

This migration has been generated by Ryan Dowling at 6/2/2020, 5:53:36 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `shop`.`Address` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ;

ALTER TABLE `shop`.`Category` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ;

ALTER TABLE `shop`.`Customer` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ;

ALTER TABLE `shop`.`Order` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ;

ALTER TABLE `shop`.`OrderItem` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ;

ALTER TABLE `shop`.`Product` ADD COLUMN `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ,
ADD COLUMN `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200602055021-add-order-things..20200602055336-add-timestamps-to-tables
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
     provider = "mysql"
-    url = "***"
+    url      = env("DATABASE_URL")
 }
 generator client {
     provider = "prisma-client-js"
@@ -18,8 +18,11 @@
     price       Float
     categories Category[]  @relation(references: [id])
     OrderItem  OrderItem[]
+
+    createdAt DateTime @default(now())
+    updatedAt DateTime @default(now())
 }
 model Category {
     id          Int    @id @default(autoincrement())
@@ -27,8 +30,11 @@
     slug        String @unique
     description String
     products Product[] @relation(references: [id])
+
+    createdAt DateTime @default(now())
+    updatedAt DateTime @default(now())
 }
 model Customer {
     id              Int     @id @default(autoincrement())
@@ -38,8 +44,11 @@
     newsletterOptIn Boolean @default(false)
     addresses Address[]
     Order     Order[]
+
+    createdAt DateTime @default(now())
+    updatedAt DateTime @default(now())
 }
 model Address {
     id         Int     @id @default(autoincrement())
@@ -51,8 +60,11 @@
     state      State
     customer   Customer @relation(fields: [customerId], references: [id])
     customerId Int
+
+    createdAt DateTime @default(now())
+    updatedAt DateTime @default(now())
 }
 enum State {
     VIC
@@ -77,8 +89,11 @@
     items OrderItem[]
     customer   Customer @relation(fields: [customerId], references: [id])
     customerId Int
+
+    createdAt DateTime @default(now())
+    updatedAt DateTime @default(now())
 }
 enum OrderStatus {
     PAYMENT_PENDING
@@ -112,5 +127,8 @@
     productId Int
     order   Order @relation(fields: [orderId], references: [id])
     orderId Int
+
+    createdAt DateTime @default(now())
+    updatedAt DateTime @default(now())
 }
```


