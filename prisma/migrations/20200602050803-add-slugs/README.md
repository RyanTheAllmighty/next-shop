# Migration `20200602050803-add-slugs`

This migration has been generated by Ryan Dowling at 6/2/2020, 5:08:03 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `shop`.`Category` ADD COLUMN `slug` varchar(191) NOT NULL  ;

ALTER TABLE `shop`.`Product` ADD COLUMN `slug` varchar(191) NOT NULL  ;

CREATE UNIQUE INDEX `Category.slug` ON `shop`.`Category`(`slug`)

CREATE UNIQUE INDEX `Product.slug` ON `shop`.`Product`(`slug`)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200602050614-create-products-and-categories-table..20200602050803-add-slugs
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
     provider = "mysql"
-    url = "***"
+    url      = env("DATABASE_URL")
 }
 generator client {
     provider = "prisma-client-js"
@@ -12,8 +12,9 @@
 model Product {
     id          Int    @id @default(autoincrement())
     name        String
+    slug        String @unique
     description String
     price       Float
     categories Category[] @relation(references: [id])
@@ -21,8 +22,9 @@
 model Category {
     id          Int    @id @default(autoincrement())
     name        String
+    slug        String @unique
     description String
     products Product[] @relation(references: [id])
 }
```


